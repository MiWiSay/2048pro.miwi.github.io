<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

## 🚀 运行与部署（Run & Deploy）

本项目包含在本地运行与部署所需的全部内容。

👉 **在 AI Studio 中查看应用：**
[https://ai.studio/apps/drive/1ahUceebWnaq1ZUDqP-aSRnWXht2oL4eG](https://ai.studio/apps/drive/1ahUceebWnaq1ZUDqP-aSRnWXht2oL4eG)

---
## 游戏链接：[https://miwisay.github.io/2048ProForWeb/](url)
---

### 本地运行（Run Locally）

**前置条件：**

* Node.js

1. 安装依赖：

   ```bash
   npm install
   ```
2. 在 `.env.local` 中设置你的 Gemini API Key：

   ```env
   GEMINI_API_KEY=YOUR_API_KEY
   ```
3. 启动开发服务器：

   ```bash
   npm run dev
   ```

---

# 2048 Pro

## 🎮 一、玩法设计（Game Design）

### 1. 核心玩法概述

游戏的基础逻辑仍然遵循经典 2048：

* 在网格中滑动方块
* 数值相同的方块会合并并翻倍（2 → 4 → 8 → …）
* 当棋盘无法再移动时游戏结束

在此之上，2048 Pro 引入了大量扩展机制：

* **多尺寸棋盘**：

  * 支持 **3×3 ~ 8×8** 任意棋盘大小
  * 棋盘越大，初始生成的方块数值越高（如 7×7 可能直接生成 4 或 8）

* **多语言本地化**：

  * 内置 10 种语言（中文、繁体、英语、日语、韩语、法语、德语等）

* **程序化音频系统**：

  * 不使用 MP3 等预录音频
  * 基于 **Web Audio API** 实时合成 BGM 与 SFX
  * 音乐节奏会根据游戏紧张程度（如剩余时间、连击状态）动态变化

* **数据持久化与加密**：

  * 游戏进度、最高分自动保存到 LocalStorage
  * 对关键数据进行简单加密，防止直接篡改数值作弊

---

### 2. 游戏模式详解

项目中共实现了 **5 种截然不同的游戏模式**，每种模式都拥有独立的节奏、目标与 UI 行为。

#### A. Classic（经典模式）

* **玩法**：原汁原味的 2048
* **目标**：合成 2048 或更大的数字，挑战最高分
* **特点**：

  * 无时间限制
  * 节奏平缓，适合休闲体验

---

#### B. Mission（任务模式）

* **玩法定位**：RPG 风格的目标驱动玩法

* **核心机制**：

  * 屏幕顶部同时显示 **3 个任务**（简单 / 中等 / 困难）
  * 任务类型包括：

    * 合成类（如：合成一个 64）
    * 操作类（如：向左滑动 5 次）
    * 限时任务（倒计时结束即失败）

* **奖励机制**：

  * 完成全部任务会触发 **Wave Complete**
  * 获得高额分数奖励，并生成新一轮任务

---

#### C. Survival（生存模式）

> 灵感来源于俄罗斯方块的压迫感设计

* **玩法核心**：

  * 与时间赛跑，通过“连击”维持生命

* **关键机制**：

  * 初始拥有 **5 个时间胶囊**，每个仅约 3 秒
  * 连续快速合成可触发 **Combo 状态**
  * Combo 状态下：

    * 时间倒流被冻结
    * 合成获得额外分数加成

* **失败条件**：

  * 一旦停止合成，时间会迅速消耗
  * 时间耗尽即游戏结束

---

#### D. Time Rush（极速模式）

> 更偏向“街机刷分”体验

* **基础规则**：

  * 初始时间：5 秒
  * 时间上限：8 秒

* **时间机制**：

  * 每次合成会根据方块大小获得加时（+0.5s ~ +3s）
  * 若时间超过上限，**溢出时间会直接转化为高额分数**

* **策略重点**：

  * 维持时间满槽是刷分的核心
  * 一旦节奏放慢，时间归零即失败

---

#### E. Bounty（赏金模式）

> 类似“限时寻宝”的策略玩法

* **核心玩法**：

  * 棋盘中会随机出现带倒计时光环的“赏金方块”（如 16 / 32 / 512）

* **倒计时机制**：

  * 必须在光环消失前完成合成

* **奖励与失败**：

  * 成功：

    * 方块被收集到下方的 **战利品栏**
    * 获得巨额分数奖励
  * 失败：

    * 方块退化为普通方块，赏金作废

---

## 🧩 二、架构与实现（Architecture & Implementation）

### 1. UI / UX 结构

#### 首页（Home UI）

* **模式选择**：

  * 竖屏：列表布局
  * 横屏：侧边栏布局

* **棋盘尺寸选择器**：

  * 选择模式后弹出 3×3 ~ 8×8 网格选项

* **彩蛋系统**：

  * 长按语言旗帜或特定区域会触发漂浮文字彩蛋

---

#### 游戏界面（Game UI）

* **响应式布局**：

  * 手机竖屏 与 平板 / 桌面横屏 使用完全不同的布局策略

* **动态主题系统**：

  * 不同模式对应不同主色调
  * 包含蓝、紫、红、黄、琥珀等主题

* **动画表现**：

  * 方块生成：Pop
  * 合并动画：Bounce
  * 时间紧迫：全屏脉冲（Urgency Pulse）

---

### 2. 代码结构概览

* **App.tsx**

  * 核心“上帝组件”
  * 职责包括：

    * UI 渲染
    * 键盘 / 触摸事件监听
    * 游戏主循环（计时器）
    * 状态管理与模式切换

* **services/gameLogic.ts**

  * 纯逻辑层
  * 负责：

    * 矩阵移动算法
    * 合并检测
    * 新方块生成坐标计算
    * 游戏结束判定

* **services/audioService.ts**

  * 程序化音频合成器
  * 基于 Web Audio API
  * 根据：

    * 当前游戏模式（Theme）
    * 紧张程度（Tempo）
  * 动态生成旋律与音效


---

